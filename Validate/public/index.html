<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Validate</title>
  <link rel = "stylesheet" type = "text/css" href = "./css/index.css">
  <link rel="icon" href="./css/Assets/wrench.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script src="./index.tsx"></script>
  <div style="position:absolute; top:40%; left:50%; width:750px; height:600px;">
		<canvas id="myChart"></canvas>
    <script>
    var canvas = document.getElementById('myChart').getContext("2d");
var data = {
    labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
    datasets: [
        {
            label: "current (MA)",
            fill: false,
            lineTension: 0.0,
            backgroundColor: "rgba(75,192,192,0.4)",
            borderColor: "rgba(75,192,192,1)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "rgba(75,192,192,1)",
            pointBackgroundColor: "#fff",
            pointBorderWidth: 1,
            pointHoverRadius: 5,
            pointHoverBackgroundColor: "rgba(75,192,192,1)",
            pointHoverBorderColor: "rgba(220,220,220,1)",
            pointHoverBorderWidth: 2,
            pointRadius: 5,
            pointHitRadius: 10,
            data: [4, 5, 4, 24, 25, 4, 5, 4, 5, 25],
        }
    ]
};

var zero = 11;
var last = "3"
function adddata(){

   var value = 4;
   var value1 = 4;
   var value2 = 5
   var value3 = 25;
      myLineChart.data.labels.push(zero);
      myLineChart.data.labels.splice(0, 1);
  myLineChart.data.datasets[0].data.splice(0, 1);
  if(last == "3"){
    myLineChart.data.datasets[0].data.push(value);
    last="0"
  } else if (last == "0") {
    myLineChart.data.datasets[0].data.push(value1);
    last="1"
  } else if (last == "1") {
    myLineChart.data.datasets[0].data.push(value2);
    last="2"
  } else if (last == "2") {
    myLineChart.data.datasets[0].data.push(value3);
    last="3"
  }


  myLineChart.update();
  zero++;
}



   setInterval(function(){
   adddata();
    },1000);

var option = {
    showLines: true,
    scales: {
      yAxes: [{
        display: true,
        ticks: {
          beginAtZero:true,
          min: 0,
          max: 100  
        }
      }]
  }
};
var myLineChart = Chart.Line(canvas,{
    data:data,
  options:option
});
    </script>
    
	</div>
</body>
</html>